##############################################################################
# tmux config for laptops
##############################################################################
#------------------------------------------------------------------------------
# General settings
#------------------------------------------------------------------------------
set-option -sa terminal-overrides ",xterm-termite:Tc,xterm-kitty:Tc,xterm-256color:Tc,xterm-256color-italic:Tc"
set-option -g default-terminal 'tmux-256color'

# Mouse settings
set-option -g mouse on

# Activity settings
set-option -g bell-action any
set-option -g visual-activity on
set-option -g visual-bell off
set-window-option -g monitor-activity off

#------------------------------------------------------------------------------
# Status
#------------------------------------------------------------------------------
set-option -g status-keys vi
set-option -g status-interval 4
set-option -g display-time 1444
# status looks
set-option -g status-style fg=colour244,bg=default
set-option -g status-left ''
set-option -g status-right-length 86
# set-option -g status-right '#[fg=yellow]#(showbattery.sh)#[fg=white,bold,dim][%H:%M] #[fg=white,nobold]%a %b %d %Y' #dark
set-option -g status-right '#[fg=colour202]#(showbattery.sh)#[fg=default,bold,dim][%H:%M] #[fg=default,nobold]%a %b %d %Y' #light
set-window-option -g window-status-format '#I #W'
set-window-option -g window-status-current-format '[#I #W]'
# set-window-option -g window-status-current-style fg=colour231,bold,bg=default,dim # dark
set-window-option -g window-status-current-style fg=default,bold,bg=default,dim # light
set-window-option -g window-status-bell-style fg=colour001,bg=default,bold
# status message
set-option -g message-style fg=default,dim,reverse

#------------------------------------------------------------------------------
# Keybindings
#------------------------------------------------------------------------------
unbind C-b
set -g prefix C-a
bind-key    -T prefix  C-a        send-prefix
bind-key -r -T prefix  M-Up       resize-pane -U 15
bind-key -r -T prefix  M-Down     resize-pane -D 15
bind-key -r -T prefix  M-Left     resize-pane -L 15
bind-key -r -T prefix  M-Right    resize-pane -R 15

# fzf-locate
bind-key -n 'M-`' run "tmux split-window -p 40 'tmux send-keys -t #{pane_id} \"$(locate / | fzf -m | paste -sd\\  -)\"'"

#------------------------------------------------------------------------------
# Sessions
#------------------------------------------------------------------------------
new-session -d -s work -n xerrors 'multitail ~/xerrors.log'
new-window -t work:1 -n explore
new-window -t work:2 -n shell
split-window -t work:2 -h
split-window -t work:2 -v
new-window -t work:3 -n shell
send-keys -t work:1 'mc' C-m

new-session -d -s tj -n player
new-window -t tj:1 -n 'mixer'
split-window -t tj:1 -v
new-window -t tj:2 -n moc 'mocp'
new-window -t tj:3 -n ncmpc++ 'ncmpcpp'
new-window -t tj:4 -n playlists
new-window -t tj:5 -n prelisten
send-keys -t tj:0 'cd /usr/local/src/Tools/pytone/svn/' C-m
send-keys -t tj:0 './pytone -c conf/pytonerc' C-m
send-keys -t tj:1.0 'alsamixer -D pmeq_1' C-m
send-keys -t tj:1.1 'alsamixer -D hw:PCH' C-m
send-keys -t tj:4 'cd /music/playlists/' C-m
send-keys -t tj:5 'ncmpcpp -p 6602 -c ~/.ncmpcpp/prelisten-config' C-m

new-session -d -s mixer -n 'Mojo'
split-window -t mixer:0 -v
send-keys -t mixer:0.0 'alsamixer -D pmeq_1' C-m
send-keys -t mixer:0.1 'alsamixer -D pmeq' C-m
new-window -t mixer:1 -n 'Built-in'
split-window -t mixer:1 -v
send-keys -t mixer:1.0 'alsamixer -D hw:PCH' C-m
send-keys -t mixer:1.1 'alsamixer -D pmeq' C-m
new-window -t mixer:2 -n 'Audio2DJ'
split-window -t mixer:2 -v
send-keys -t mixer:2.0 'alsamixer -D pmeq_2' C-m
send-keys -t mixer:2.1 'alsamixer -D taeq_2' C-m
new-window -t mixer:3 -n 'Music'
send-keys -t mixer:3.0 'cd ~/Tango/music/' C-m
new-window -t mixer:4 -n 'Prelisten'
send-keys -t mixer:4.0 'ncmpcpp -p 6602 -c ~/.ncmpcpp/prelisten-config' C-m

select-window -t mixer:0

# vim: tw=104 cms=#\ %s :
